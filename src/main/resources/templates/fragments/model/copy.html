<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<th:block th:fragment="form">
  <div class="form-group row">
    <label class="col-6 col-form-label" for="copies">Nombre d'exemplaire</label>
    <input class="col-6 form-control" type="number" id="copies" min="0" max="50" th:field="*{copies}" required>
  </div>
  <div class="form-group row">
    <label class="col-6 col-form-label" for="publisherName">Éditeur</label>
    <input class="col-6 form-control" type="text" id="publisherName" th:field="*{publisherName}" required>
  </div>
  <div class="form-group row">
    <label class="col-6 col-form-label" for="publication">Date de publication</label>
    <input class="col-6 form-control" type="text" id="publication" th:field="*{publicationDate}" required>
  </div>
  <div class="form-group row">
    <label class="col-6 col-form-label">Livre, Langue</label>
    <select th:field="*{idBook}">
      <option th:value="0" selected>Aucun</option>
      <option th:each="book : ${booksList}" th:value="${book.id}" th:text="${book.title} + ',' + ${book.language}"></option>
    </select>
  </div>
  <div class="form-group row">
    <label class="col-6 col-form-label">Genre</label>
    <select th:field="*{idType}">
      <option th:value="0" selected>Aucun</option>
      <option th:each="type : ${typesList}" th:value="${type.id}" th:text="${type.name}"></option>
    </select>
  </div>
</th:block>

<th:block th:fragment="table">
  <table class="table table-dark table-responsive-md">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Éditeur</th>
      <th scope="col">Date de publication</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="copy, iter : ${objectList}">
      <td scope="row" th:hidden="${copy.id}"></td>
      <th th:text="${iter.count}"></th>
      <td th:text="${copy.publisherName}"></td>
      <td th:text="${copy.publicationDate}"></td>
      <td class="justify-content-center">
        <a role="button" class="btn btn-primary"
           th:href="@{/copies/details(id=${copy.id})}">Details</a>
      </td>
    </tr>
    </tbody>
  </table>
</th:block>

<th:block th:fragment="detailsTable">
  <thead>
  <tr>
    <th th:hidden="*{id}"></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <th scope="row">Nombre d'exemplaire</th>
    <td th:text="*{copies}"></td>
  </tr>
  <tr>
    <th scope="row">Éditeur</th>
    <td th:text="*{publisherName}"></td>
  </tr>
  <tr>
    <th scope="row">Date de publication</th>
    <td th:text="*{publicationDate}"></td>
  </tr>
  <tr>
    <th scope="row">Livre</th>
    <td th:text="*{bookDto}"></td>
  </tr>
  <tr>
    <th scope="row">Genre</th>
    <td th:text="*{typeDto}"></td>
  </tr>
  </tbody>
</th:block>


</html>